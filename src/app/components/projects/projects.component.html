<!-- projects.component.html -->

<section id="side-nav" *ngIf="router.url === '/projects'">
  <article *ngIf="categoryFilter || tagFilter">
    <h2>Filter:</h2>
    <div class="current-filter" (click)="clearFilters()">
      {{ categoryFilter?.name || tagFilter?.name }}
      <i class="bi bi-trash"></i>
    </div>
  </article>
  <article id="categories">
    <app-categories
      [categoryFilter]="categoryFilter"
      (newCategoryFilterEvent)="setCategoryFilter($event)"
    ></app-categories>
  </article>
  <!-- <article id="tags">
    <app-tags
      [tagFilter]="tagFilter"
      (newTagFilterEvent)="setTagFilter($event)"
    ></app-tags>
  </article> -->
</section>
<section id="projects">
  <article
    *ngFor="let project of projects | projectFilter : tagFilter"
    [class.hidden]="categoryFilter && project.category?.id != categoryFilter.id"
    (click)="setSelectedProject(project)"
  >
    <a href="/projects/{{ project?.id }}">
      <section class="project-card">
        <img
          *ngIf="project.image"
          [src]="'assets/images/' + project.image"
          alt="Image of {{ project.name }}"
        />
        <div>
          <h2>{{ project.name | uppercase }}</h2>
          <div>{{ project.excerpt }}</div>
        </div>
      </section>
    </a>
    <!-- <footer>
      <div
        *ngIf="project.category"
        (click)="setCategoryFilter(project.category)"
      >
        Category: <span>{{ project.category.name }}</span>
      </div>
      <div *ngIf="project.tags?.length">
        Tags:
        <span *ngFor="let tag of project.tags" (click)="setTagFilter(tag)">
          {{ tag.name }}
        </span>
      </div>
    </footer> -->
  </article>
</section>
